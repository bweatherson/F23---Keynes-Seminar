<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.470">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Brian Weatherson">
<meta name="dcterms.date" content="2023-11-07">

<title>Keynes Seminar, Fall 2023 - Week 9: The General Theory</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="stylesheet" href="https://use.typekit.net/uzz2drx.css">


</head>

<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Keynes Seminar, Fall 2023</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://canvas.umich.edu/"> <i class="bi bi-mortarboard" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Week 9: The General Theory</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">weekly handout</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Brian Weatherson </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 7, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  <div>
    <div class="abstract">
      <div class="block-title">Abstract</div>
      Starting on Keynes’s greatest book, the 1936 General Theory of Employment, Interest and Money. Naturally, we’re starting at both ends, and working towards the middle.
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#nothing-more-powerful-than-ideas" id="toc-nothing-more-powerful-than-ideas" class="nav-link active" data-scroll-target="#nothing-more-powerful-than-ideas">Nothing More Powerful than Ideas</a></li>
  <li><a href="#the-classical-theory" id="toc-the-classical-theory" class="nav-link" data-scroll-target="#the-classical-theory">The Classical Theory</a></li>
  <li><a href="#problems-with-the-classical-theory" id="toc-problems-with-the-classical-theory" class="nav-link" data-scroll-target="#problems-with-the-classical-theory">Problems with the Classical Theory</a></li>
  <li><a href="#keyness-positive-theory" id="toc-keyness-positive-theory" class="nav-link" data-scroll-target="#keyness-positive-theory">Keynes’s Positive Theory</a></li>
  <li><a href="#rationality-and-sticky-wages" id="toc-rationality-and-sticky-wages" class="nav-link" data-scroll-target="#rationality-and-sticky-wages">Rationality and Sticky Wages</a></li>
  <li><a href="#keynesian-rationality" id="toc-keynesian-rationality" class="nav-link" data-scroll-target="#keynesian-rationality">Keynesian Rationality</a></li>
  <li><a href="#why-markets" id="toc-why-markets" class="nav-link" data-scroll-target="#why-markets">Why Markets?</a></li>
  <li><a href="#euthanasia-of-the-rentier" id="toc-euthanasia-of-the-rentier" class="nav-link" data-scroll-target="#euthanasia-of-the-rentier">Euthanasia of the Rentier</a></li>
  <li><a href="#for-next-time" id="toc-for-next-time" class="nav-link" data-scroll-target="#for-next-time">For Next Time</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p>&nbsp;</p>
</div></div>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<section id="nothing-more-powerful-than-ideas" class="level1 page-columns page-full">
<h1>Nothing More Powerful than Ideas</h1>
<p>Let’s start at the end, with the remarkable ending of the book. It’s possibly the most quoted part of the book, joining the <em>Tractatus</em> and Hume’s <em>Enquiry</em> perhaps in books whose endings are among the most memorable things about them.</p>
<p>Keynes gives a rather grandiose claim about the role of “economic and political philosophers” in history. They, we?, turn out to be the most important people in the world. Even if our ideas only end up getting implemented by thugs with guns, just which direction the thuggery takes is, according to Keynes, determined by the philosophers.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> It’s a big role!</p>
<div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Eric Schlisser pointed out to me that a similar idea is presented in A. V. Dicey’s 1905 book <em>Lectures on the Relation Between Law and Public Opinion in England During the Nineteenth Century</em>. If Keynes is right here, someone should have said something similar when he was about 22, so this tracks.</p></li><li id="fn2"><p><sup>2</sup>&nbsp;We could perhaps talk about the preface to the German edition of the <em>General Theory</em>, which is notorious for not being quite as anti-Nazi as one might hope.</p></li></div><p>Is he correct about this? The first thing to think about might be the madmen in authority at the time Keynes was writing. It wasn’t a great time for European political leadership: Stalin in Russia, Hitler in Germany<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, Mussolini in Italy, Franco in Spain. Are they just following recent academic scribblers?</p>
<p>Franco doesn’t look like a great case for Keynes. He’s just following a fairly well established playbook of balancing the power of the powerful groups he cared about: the army, the church, and big business. If there’s a grand theory there beyond look after one’s own, I’m not sure what it is.</p>
<p>Hitler and Mussolini are a bit more interesting. How much is Keynes thinking that Nietzsche and/or Pareto (or similar figures) are responsible for what they are doing? Or is he even thinking of Heidegger here; that’s unlikely given the timeline. But there’s plausibly a case that the distinct way that Hitler and/or Mussolini ruled is a function of various theories.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;Mussolini has the added complication that, like every military leader from Italy, everything harkens back to the Roman Empire. But, Keynes might say, it’s always a version of Rome; what matters isn’t what Caeser or Trajan did, but what Mussolini and his friends were taught they did.</p></li></div><p>But Stalin might be the most interesting case. On the one hand, it’s hard not to read this passage as a swipe at the Marxist theory of history. The idea that ‘vested interests’ determine history is a (crude, uncharitable) summary of what Marx thought. And Stalin was obviously the only Marxist among the four I mentioned.</p>
<p>Now on the one hand, Stalin was in a sense the least doctrinaire of the Bolsheviks, indeed almost of any of the left-wing leaders in 1917. It’s not clear how much he even <em>read</em> Marx. He certainly wasn’t going to be like the Mensheviks and put off the revolution because history said it couldn’t happen yet. He was even less likely to bother with writing his own treatise on how Marx had to be updated a la Trotsky. So does that tell against Keynes?</p>
<p>I don’t think it does. Stalin was a very doctrinaire leader, even more so than Lenin ever was. Collectivisation wasn’t Stalin’s idea, but it very much became his policy. I don’t think Lenin did much collectivisation at all. And Stalin kept at it, well after it had become clear that it was a catastrophic failure. I don’t even think it really satisfied the material interests of the group Stalin allegedly represented. But he’d been a Bolshevik for as long as he could remember, and this was Bolshevik policy, and he was determined to put it into practice.</p>
<p>It’s also worth noting the notable failures of Marxist theories in predicting what would happen after World War I. These theories make some fairly clear predictions. First, revolution should come first to the most developed countries. Second, there needs to be a bourgeoisie revolution (a la 1789) before there is a proletarian revolution (a la 1792 or 1871). None of that happened. The German revolution failed almost at inception. The bourgeoisie revolution in Russia was basically a failure, but the proletarian revolution happened anyway.</p>
<p>That said, if there is a problem for Keynes’s theory of history it might come from the leader he most admired at this time: FDR. It’s obviously not true that the New Deal came from economic and political philosophers that FDR read growing up. No one was advocating that then! Keynes himself wasn’t advocating anything like it.</p>
<p>Indeed, there’s some tension between the picture we get in chapter 23 and the one we get at the end of 24. In chapter 23 one of the running themes is that the politicians kind of know what they are doing. Not in any deep sense of course; their theories about why things work are typically off in every possible respect. But they do, as a group, have an intuitive sense of what needed to be done. And the plans are at least directionally correct.</p>
<p>The gold standard era politicians who cared a lot about the balance of trade were, thinks Keynes, basically doing the right thing given the constraints they had to work with.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> Those politicians weren’t just following the ravings of an academic scribbler some years back. All the academic scribblers were united in their opposition to such a policy.</p>
<div class="no-row-height column-margin column-container"><li id="fn4"><p><sup>4</sup>&nbsp;That’s not because there’s anything special about the balance of trade. But because of the details of how the gold standard worked, a better balance of trade meant better, i.e., lower, interest rates. And that’s what really mattered.</p></li></div><p>So while I’m somewhat sympathetic to Keynes’s views about the madmen in authority, and very sympathetic to taking shots at the Marxist theory of history, for better or worse I don’t think it’s our ideas that ultimately rule the world. Sometimes it’s the animal cunning of the politicians.</p>
</section>
<section id="the-classical-theory" class="level1 page-columns page-full">
<h1>The Classical Theory</h1>
<p>I suspect everyone here knows this as well as I do, but I wanted to set out what I take to be the ‘classical’ theory of unemployment; the one that Keynes is responding to in chapter 2. (And, frankly, the rest of the book.)</p>
<p>Start with the theory about the market for some particular good. Let’s use milk as our example. Here’s the simple textbook version.</p>
<p>Start by holding fixed the income of everyone in the community, and the price of all other goods in the economy. Given those facts, there is an amount of milk each person would buy for each possible price of milk. Summing these up, we get the amount of milk that the community will buy for each possible price of milk. That is, there is a function D from prices to quantities such that D(p) = q means that at price p, we’ll collectively buy quantity q of milk. And D is downward-sloping; at higher prices we buy other things instead.</p>
<p>There is a similar function S(p) = q from prices of milk to the amount of milk supplied. And this is upward sloping. As the price of milk rises, more people get into the dairy business, and more milk is supplied. But as the price falls, farms go bankrupt, and the supply shrinks.</p>
<p>So that means that there is a unique point where D(p) = S(p). And that price is going to be the price of milk, and the quantity of milk bought/sold is D(p) = S(p).</p>
<p>The classical theory says that labour is like this as well. In this case the price is wages, so let’s write it as w. Again, there is a D function and an S function, though one thing to note already is that who determines D and S is flipped from the usual case. D is a function of what business does; S is a function of what normal people do. That’s the other way around to normal, and I guess this matters.</p>
<p>Anyway, D(w) is the amount of labour demanded (by businesses) at wage w. The higher w is, the less labour they’ll demand. If wages are high, you stop opening your restaurant at low traffic times, for example.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> If wages are low, you’ll employ people for things that might not be profitable in normal times.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> So D slopes down, just like the normal case. And, says the classical theory, S slopes up. Once w gets low enough, some people will decide that it’s not worth getting out of bed for less than $10,000, and stay in bed. So we’ve got the same conditions that are met in the milk case. We have two functions with opposite slopes, so they will have a unique intersection where D(w) = S(w). That value of w will be the wage level, and D(w) will be the amount of labour demanded. If it’s less than the size of the employable population, there will be unemployment. But note that this could all be fixed with a shift in S; if people weren’t so reluctant to work for lower wages, we could have a higher employment equilibrium.</p>
<div class="no-row-height column-margin column-container"><li id="fn5"><p><sup>5</sup>&nbsp;That’s happened a bit in Ann Arbor recently.</p></li><li id="fn6"><p><sup>6</sup>&nbsp;Think of all those Great Recession era delivery services that started up.</p></li></div></section>
<section id="problems-with-the-classical-theory" class="level1 page-columns page-full">
<h1>Problems with the Classical Theory</h1>
<p>Start with why this is a less than optimal theory of the price of milk. The theory is what’s called a <strong>partial</strong> equilibrium theory. It doesn’t try and balance all the forces in the economy; just the forces that directly affect the price of milk. But this leaves out all sorts of complications that could, in principle, be important.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> In particular, and for our interest, it leaves out complications caused by the existence of complementary goods, and possible macro effects of the particular market.</p>
<div class="no-row-height column-margin column-container"><li id="fn7"><p><sup>7</sup>&nbsp;General equilibrium theory tries to solve for all of these forces at once, and given some truly heroic assumptions you can prove the existence of a unique general solution. But the assumptions are really rather absurd, and unlike partial equilibrium theory, there is no particular reason to think that having the assumptions be nearly satisfied will make the result nearly correct.</p></li></div><p>Complementary goods are a ubiquitous feature of our lives. They are goods that have more value if other goods are available. Gasoline is a complement to cars, for example. Or, to bring it back to milk, milk and corn flakes are complementary. If the price of corn flakes falls, demand for milk will go up. So if the solution to the equation for milk had a material effect on the price of corn flakes (e.g., because milk was also used as an input to corn flakes), the partial equilibrium would really not be a general equilibrium.</p>
<p>The weird things that happen with complementary goods are incredibly important parts of the current economy. I write these notes using two main bits of software, VS Code and RStudio. Both of these are provided, for free, by for profit companies. And they are provided because they are complements to other goods those companies provide. In RStudio’s case, at least as I understand the business model, the complementary good is paid customer support for RStudio. It’s not exactly trivial to do a partial equilibrium analysis of a product like that!</p>
<p>The other issue is macro-economic consequences. I guess these days no one thinks this is a particularly realistic case, but when I was a student we were taught to worry about so-called Giffin goods. Consider the following just-so story about the market for some basic food in a society that is just above the subsistence line. If the price of that basic food goes up, demand for it might go <strong>up</strong>. The reason is that people who were just above subsistence level, and hence able to afford alternatives to the basic food, will be thrust back into a state where they can afford nothing but the basic food. This does seem possible in theory, though I gather no one thinks it has ever occurred in practice. But what matters to us is the general possibility; the resolution of forces within some market might have wide-ranging effects.</p>
<p>Both of these things matter, thinks Keynes, in the labour market.</p>
<p>Labour is a complement to capital. In Keynes’s model, simply employing people is actually not something commonly done. Rather, people <em>start businesses</em>, and a business requires labour and capital. Ultimately, Keynes’s explanation of the market for labour, which is the thing in the title of the book, is that it is kind of a side-effect of the market for capital, i.e., investment goods. Now we might worry somewhat about this. Sometimes unemployment goes down because of new investments; e.g., a factory gets built. But sometimes unemployment goes up because of new investments. That happens at a trivial level with things like ATMs, but it happened at a much larger scale in agriculture. I’m worried these things affect Keynes’s story.</p>
<p>More importantly, labour has macro-economic effects. Labour is such a big part of the economy that changes in wages mean changes in the overall price level, and in the overall demand for goods.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> In chapter 2, we get one direction of this. If the wage goes down, prices will fall, but that might mean the <em>real</em> wage hasn’t changed much at all. Keynes is a bit slippery here, and doesn’t work out whether the magnitudes really work. And ultimately I’m not sure that what he says in chapter 2 is really what he thinks. The big problem with a cut in wages is that it will lead to less demand, which leads to less investment, which means fewer things for labour to complement, which means possibly a <em>fall</em> in the demand for labour. But that’s getting ahead of ourselves. For now the worry is that a change in wages will lead to a change in demand for good produced by workers (what Keynes calls wage-goods), and that will change the demand curve for labour. So there is no guarantee that there can be an equilibrium.</p>
<div class="no-row-height column-margin column-container"><li id="fn8"><p><sup>8</sup>&nbsp;Strictly speaking this is true for every good, but it’s pretty much ignorable in the case of corn flakes, and even milk.</p></li></div></section>
<section id="keyness-positive-theory" class="level1 page-columns page-full">
<h1>Keynes’s Positive Theory</h1>
<p>This gets more complicated, and the exegesis is more controversial. But here I think is the view in the very broadest outline.</p>
<p>Labour is a compliment to capital. Ultimately, the demand for labour is a by-product of the demand for investment. And the demand for investment is determined by two things:</p>
<ol type="1">
<li>How much investors expect speculative investments to yield.</li>
<li>How much investors can get from things other than investments, in particular from money.</li>
</ol>
<p>And so we get a lot of chapters in the middle of the book on these two factors, on what determines the expectation of investment yield, and on what determines the rate of interest. Both of these are, I think, philosophically interesting, because they both connect to the somewhat distinctive way in which Keynes is thinking about rational choice.</p>
<p>That said, Keynes doesn’t reject the classical view quite as much as one might perhaps have expected. He does think that in a slump, solving the problem will require a fall in real wages. This isn’t because he believes in a supply-demand story about labour. Rather, it’s because (I think) lower real wages leads to higher expected investment return, leads to higher investment, leads to more jobs.</p>
<p>So why don’t we end back with the policy prescription of the classical view: the solution to a slump is to cut wages? There are a few reasons, but the biggest is that word <strong>real</strong>. Keynes thinks that you need to have a real wage cut to solve the problem, and cutting money wages won’t do the trick.</p>
<p>But here we get into one of the more common interpretations, I think misinterpretations, of Keynes. One way a lot of economists (mostly but not exclusive right-leaning) read Keynes is as giving a story of what an economy with <em>sticky wages</em> looks like. Some of them agree (especially the not so right-leaning ones) that he’s given a very good diagnosis of what a sticky wage economy looks like. But, they say, this shows that the title of the book is completely misleading. He hasn’t analysed the general case at all, just the weird special case where wages are sticky.</p>
<p>Now one thing to note immediately is that wages very much are sticky at least in the short term. I don’t think I’ve had my (nominal) pay change during the academic year once in my career. You make a deal in dollars, and that deal is paid out in dollars. It’s not that special a case.</p>
<p>But note that the more right-leaning economists who think this see sticky wages as a double failing.</p>
<p>First, it’s a failing on the part of the workers who don’t realise that inflation is the same thing as a wage cut. These economists think that at best Keynes is offering governments a one-time trick. Do a quick inflation, no one will notice that their real wages are cut, and it will be just like the prescription we wanted. But you can’t fool people the same way twice. If you keep doing this, workers will start demanding things like Cost of Living Allowances, i.e., automatic inflation adjustments. And then it will all fail.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<div class="no-row-height column-margin column-container"><li id="fn9"><p><sup>9</sup>&nbsp;To be totally clear about this, the story continues by claiming this is <em>exactly</em> what happened in the 1970s, so it explains why Keynesian economics seemed to work for a while, but also why it failed.</p></li></div><p>Second, it’s a failing on the part of the government. If you’d just be tough enough with the unions, like Thatcher with the miners or Reagan with the air-traffic controllers, you break union power, and you don’t need sticky wages any more.</p>
<p>I think this is a complete misreading of what Keynes is up to in chapter two.</p>
</section>
<section id="rationality-and-sticky-wages" class="level1 page-columns page-full">
<h1>Rationality and Sticky Wages</h1>
<p>There are two arguments Keynes gives for why sticky wages are a good thing. The second<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> is that if wages were too responsive to price moves, we’d never get to equilibrium. Every minor slump would lead to a race to the bottom to find a point where wages were low enough; every boom would lead to an out-of-control wage-price spiral.</p>
<div class="no-row-height column-margin column-container"><li id="fn10"><p><sup>10</sup>&nbsp;And, to be clear, the one he says is more important, even though I’m spending less time on it because it’s less philosophically relevant</p></li><li id="fn11"><p><sup>11</sup>&nbsp;If not everyone knows what this is, I’ll stop and explain, because it’s a really useful concept.</p></li><li id="fn12"><p><sup>12</sup>&nbsp;Actually the individual workers need not care about fairness; all they need to care about is that their probability of losing their job is low, and that their wages are as high as possible given the first constraint.</p></li></div><p>The first is more interesting to us. Keynes makes the workers sound like folks playing a Schelling-style coordination game.<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> If there’s a slump, what’s best for workers collectively is that real wages are slightly cut. But for any individual worker, having their wages cut by more than other wages are cut is unnecessary. So there is a coordination problem. We need to find a way to cut everyone’s real wages, no more nor less than is needed to get out of the slump, and to do so in a way that shares the pain as evenly as possible.<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a> There are a bunch of ways to bring this about. If we need to cut real wages by 5%, any combination of cutting nominal wages by x%, and having y% inflation, where x+y=5, will do it. If everyone else would agree to an x% nominal cut, it’s in the interest of these workers to agree to it as well. But if the aim is to find a value of x that we can all agree on, the natural value, the focal point as Schelling might have put it, is 0. The simplest equilibrium of the game the workers, collectively, are playing is that nominal wages stay exactly where they are: no one gets a (nominal) wage cut, but no one gets compensated for the inflation that’s happening.</p>
<p>What I really want to stress is that if this is a coordination game, this is completely rational behaviour. This is not a bounded rationality model; it’s a model where the relevant kind of rationality is game-theoretic, not decision-theoretic.</p>
</section>
<section id="keynesian-rationality" class="level1 page-columns page-full">
<h1>Keynesian Rationality</h1>
<p>Simplifying only a little, Keynes thinks the model of rational choice used in standard economic models is too impoverished in three respects. It doesn’t allow for:</p>
<ol type="1">
<li>Planning</li>
<li>Coordination</li>
<li>Sensitivty to uncertainty</li>
</ol>
<p>The first two are what you get if you move from decision theory to game theory. The third is more distinctively Keynesian.</p>
<p>In the standard economic models<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a>, our consumer has an income constraint, and a bunch of consumption goods they can purchase. There isn’t an obvious place for planning, and especially for saving. Now we can complicate the models only a little<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> to allow for shifting consumption over time.</p>
<div class="no-row-height column-margin column-container"><li id="fn13"><p><sup>13</sup>&nbsp;That is, the ones we are using when we tell those simple stories about milk</p></li><li id="fn14"><p><sup>14</sup>&nbsp;And, to be sure, you start getting these complications by 200- or 300-level courses</p></li></div><p>But there is an important catch. In one sense, the way we defer consumption to the future is by buying a very special kind of good: money. Money is a special kind of good because it’s supply does not look anything like the supply of milk, or corn flakes, or really anything else. And one thread in the book is going to be the important features of this market.</p>
<p>Planning is going to matter in another context as well. Let’s say the price of corn flakes falls. Do you buy more corn flakes? Well, maybe not. If the price fall is evidence that the price is going to fall again soon, then maybe the price fall will <em>decrease</em> demand, because people (who are not stupid) will see that an even better deal is just around the corner. That’s maybe not such a big deal for corn flakes, but it is going to be very important in explaining the market for investment goods, which as I’ve said a few times, is the central market.</p>
<p>Coordination is what we’ve just seen. In the simple supply-demand models, there are infinitely many agents, and coordinating with any finite subset of them makes no economic difference. That’s, er, not the world we actually live in. And if my reading of chapter 2 is right, Keynes takes these coordination effects really seriously.</p>
<p>Finally, though it doesn’t come up yet, Keynes is going to want a theory of rationality that is sensitive to the risk/uncertainty distinction. Exactly how the risk/uncertainty distinction matters is a question that’s very hard to get clear on, and gets into the murkiest exegetical waters. But it’s something we’ll talk a lot about the next two weeks.</p>
</section>
<section id="why-markets" class="level1 page-columns page-full">
<h1>Why Markets?</h1>
<p>In chapter 24 we get, by my count, three different arguments for wanting an economy (and even society) where markets play a key role.</p>
<p>First, there is a very standard liberal style argument about the relationship between markets and freedom/autonomy. Some of these paragraphs look like they could have been written by Mill, or Friedman, or Hayek.</p>
<p>Second, there is the closely related argument that totalitarian systems are really drab. Everything looks the same as everything else, and there is no place for ‘fancy’. As arguments go, we should reject Bolshevism because the buildings are ugly and the music is boring isn’t the most high-minded, but I think he’s got a point.<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a></p>
<div class="no-row-height column-margin column-container"><li id="fn15"><p><sup>15</sup>&nbsp;I’m using ‘Bolshevism’ as opposed to ‘Marxism’, or ‘communism’, let alone ‘socialism’, because the opponent here really is the very specific system being implemented in the Soviet Union. And if I use any other term I’d have to get into interpretative disputes about whether northern European social democratic movements, which Keynes is very friendly to, are excluded from those terms.</p></li><li id="fn16"><p><sup>16</sup>&nbsp;The premise that the something else will be worse is, I guess, somewhat questionable, given the downside effects of pollution, money laundering, etc.</p></li></div><p>Third, there is the argument that people who are really keen on playing with markets, who are really obsessed with money are, to put it bluntly, kind of psychopaths. If you don’t have markets, they’ll start playing with something else. And that will be worse.<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a></p>
<p>Note that while Keynes is largely pro-market, he is anti-capitalist. What he objects to is the central role that holders of capital play in the then operative system. In his ideal world, capital is so plentiful that it isn’t a constraint. It’s worth spending a bit of time I think on what an anti-capitalist, pro-market system might look like.</p>
<p>Think for a bit about what’s happened to the music business over the last half century. Fifty years ago, you really needed capital to play in the music business, and the people who had it served as gatekeepers. Home recordings were dire, so you had to record in a studio, and these were expensive. And no one had ability to press vinyl records at home, so you have to pay one of the people who had a machine. And then you needed some way to distribute those (simultaneously heavy and fragile) across the country, probably to a retail store that was part of a chain. The distribution is typically managed by a label, and getting more than a handful of people to hear your music requires getting signed to one. But you can’t start your own if you expect to succeed; they are big businesses.<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a> There are so many steps, and at every one of them you have to pay a fee. Indeed, you have to find someone who is willing to take your money.</p>
<div class="no-row-height column-margin column-container"><li id="fn17"><p><sup>17</sup>&nbsp;One of the biggest is even called Capitol.</p></li></div><p>We can imagine a world that has none of those things. Technology has meant home recordings are easier. And those recordings are distributable in a way that does not require moving heavy or fragile things around. So far so good.</p>
<p>Imagine a world where there was a site like Bandcamp, but it was run at cost by a state or state-adjacent agency.<a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a> On this site people could upload whatever music they wanted, and charge whatever they wanted for it, and they got a large percentage of that money, with the site doing no more than covering its costs of hosting and payments processing.</p>
<div class="no-row-height column-margin column-container"><li id="fn18"><p><sup>18</sup>&nbsp;I’m using ‘state-adjacent’ here for things like USPS and UM that aren’t part of the civil service, but aren’t private actors either.</p></li></div><p>That’s almost, but not quite, Keynes’s vision. His actual vision is that the returns on capital are so low that someone will have been inspired to set up Bandcamp-with-low-fees to get more than the pittance they can earn in interest. Competition among people looking for places to invest will drive the value of capital goods down, and the result will be that there is a market for things made by actual producers (e.g., musicians), and the infrastructure for it will be provided at really minimal cost.</p>
<p>This is the nirvana that we were supposed to get with low interest rates. And two decades ago I might have argued that it was a plausible story. But we had the low interest rate economy, and it didn’t work that way. So let’s end with why it didn’t.</p>
</section>
<section id="euthanasia-of-the-rentier" class="level1 page-columns page-full">
<h1>Euthanasia of the Rentier</h1>
<p>Anglophone economics, indeed European economics, in a modern sense starts with Adam Smith. And Smith, like most economists of his time, was really opposed to rent. Businessmen have their flaws, to be sure, but they are at least trying to provide goods and services. The landed aristocracy are just taking a cut. Developing economic theory is part of a broad campaign against these rent-seekers.<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a></p>
<div class="no-row-height column-margin column-container"><li id="fn19"><p><sup>19</sup>&nbsp;Bankrupting the French monarchy and bringing on the French Revolution is also part of this campaign, though maybe not the most successful part.</p></li></div><p>A rentier is a person living off their rents in general; not necessarily rent of land or buildings, but possibly rent of capital goods. And Keynes is saying that they are just as problematic as the early moderns thought the landed aristocracy were. Keynes is on the side of entrepreneurs against the people who want to charge them fees in order to make businesses happen. It’s just like Smith, except with the holders of capital taking the place of the holders of land.</p>
<p>You can see the model Keynes has in mind. If interest rates are low, and stay low, then the only thing that holders of capital will be able to do to get any returns is to invest in real things. I’m pretty sure he has factories in mind here as the kind of investment, and this will cause complications. As the supply of these factories (or other investments) goes up, the return on them goes down. If there are lots of studios to rent, bands don’t have to pay as much to rent studio time, and the same is true for other industries. So eventually the return that the rentier gets will fall away, because they can’t get high interest rates, and competition removes the returns they get from investment goods.</p>
<p>Unfortunately, none of this actually works in practice. Until very recently I would have said it was all extremely plausible. But from the global financial crisis through to the COVID crisis, we had extremely low interest rates. (And even before 2008 interest rates were not particularly high.) And none of what Keynes predicted came to pass. In particular:</p>
<ol type="1">
<li>There is still a shortage of capital. We’re still begging/bribing people to build plants that make clean energy goods.</li>
<li>There is still a very good market for rentiers. The stock returns over that time have been uneven, but astronomical.</li>
</ol>
<p>So where did Keynes go wrong? And does it undermine the rest of his theory? I don’t have a good answer to the second part, though I have some fears. I have three possible answers to the first part, which are not entirely consistent. But they do add to the complications of the models.</p>
<p>First, low interest rates lead people to go (to use a technical term) batshit crazy. What happens when we have low interest rates forever is not that people say “Ah, this nice factory will return a steady 3%, let’s build it.” Instead they build Bored Ape Yacht Club. And I don’t have a rational choice or game theoretic story about this, but it happened, and it’s plausible that things like it are related to low interest rates.</p>
<p>Second, low interest rates increase both the motivation and the opportunity for financial crimes. If everyone is just getting 2% on their money, it’s actually not that hard to run a literal Ponzi scheme.<a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a> Just promise 3%, and make the 3% payments from the inflow of funds. There are details to be filled in, but the basic story isn’t that hard to make sense of. While Keynes’s model is in many ways more complicated than the standard models, it doesn’t have much place for doing crimes. But he’s pushing to a world where crimes are a big part of the economy.</p>
<div class="no-row-height column-margin column-container"><li id="fn20"><p><sup>20</sup>&nbsp;Not legal advice, or financial advice, or anything else. Don’t run Ponzi schemes!</p></li></div><p>Third, it’s impossible to kill the dream of being a rentier. And low interest rates encourage people to aim for future rentier status, even if it’s off in the future. So the standard model of how to get rich in the 2010s was:</p>
<ol type="1">
<li>Find an industry where there is a natural monopoly, probably due to consequences of attention being a limited resource.</li>
<li>Figure out a way that if you are the monopolist, you can earn rent by taking a cut of all the transactions in that industry.</li>
<li>Spend whatever it takes, most notably by providing goods and services at a loss, in order to become that monopolist.</li>
<li>Some time in the future, make large profits.</li>
</ol>
<p>Low interest rates mean that the profits in step 4 don’t need to be as large to justify the project. And, more importantly, they mean that the profits in step 4 can be pushed off further into the future, and the project still make sense.</p>
<p>So that’s why in the 2010s we did not get people building up factories for making wind turbines, solar panels, or EV batteries<a href="#fn21" class="footnote-ref" id="fnref21" role="doc-noteref"><sup>21</sup></a>, and instead got people throwing money at Uber, MoviePass, WeWork, and all sorts of other strange ideas.</p>
<div class="no-row-height column-margin column-container"><li id="fn21"><p><sup>21</sup>&nbsp;Or jet packs. We were promised jet packs.</p></li></div><p>It’s all a bit depressing really. You can see how Keynes’s ideas would work in a world where investment basically means building factories. But in a world where investment means trying to become a monopolist (and being willing to do some crimes before and after becoming one), low interest rates aren’t the panacea he hoped.</p>
</section>
<section id="for-next-time" class="level1">
<h1>For Next Time</h1>
<p>We’ll go back to the most obviously philosophical part of the book, the discussion of uncertainty in chapter 12 and in the 1937 QJE article.</p>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>