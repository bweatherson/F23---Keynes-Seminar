<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Brian Weatherson">
<meta name="dcterms.date" content="2023-09-18">

<title>Keynes Seminar, Fall 2023 - Week 3: Starting on the Treatise</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="stylesheet" href="https://use.typekit.net/uzz2drx.css">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Keynes Seminar, Fall 2023</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://canvas.umich.edu/" rel="" target=""><i class="bi bi-mortarboard" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Week 3: Starting on the <em>Treatise</em></h1>
                                <div class="quarto-categories">
                <div class="quarto-category">weekly handout</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Brian Weatherson </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 18, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  <div>
    <div class="abstract">
      <div class="abstract-title">Abstract</div>
      Chapters 1 and 2 of the <em>Treatise</em> set out Keynes’s answer to what we’d now call the question of how to interpret probability. He thinks that probability is a logical relation that grounds rational belief. Just what he means by ‘logical’ is going to be a matter of some import. In chapter 3 he sets out his reasons for thinking that probability is not in general numerical.
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#chapter-1" id="toc-chapter-1" class="nav-link active" data-scroll-target="#chapter-1">Chapter 1</a>
  <ul class="collapse">
  <li><a href="#paragraph-1" id="toc-paragraph-1" class="nav-link" data-scroll-target="#paragraph-1">Paragraph 1</a></li>
  <li><a href="#paragraph-2" id="toc-paragraph-2" class="nav-link" data-scroll-target="#paragraph-2">Paragraph 2</a></li>
  <li><a href="#paragraph-3" id="toc-paragraph-3" class="nav-link" data-scroll-target="#paragraph-3">Paragraph 3</a></li>
  <li><a href="#paragraph-5" id="toc-paragraph-5" class="nav-link" data-scroll-target="#paragraph-5">Paragraph 5</a></li>
  <li><a href="#paragraph-7" id="toc-paragraph-7" class="nav-link" data-scroll-target="#paragraph-7">Paragraph 7</a></li>
  <li><a href="#paragraph-8" id="toc-paragraph-8" class="nav-link" data-scroll-target="#paragraph-8">Paragraph 8</a></li>
  </ul></li>
  <li><a href="#chapter-2" id="toc-chapter-2" class="nav-link" data-scroll-target="#chapter-2">Chapter 2</a>
  <ul class="collapse">
  <li><a href="#paragraph-2-1" id="toc-paragraph-2-1" class="nav-link" data-scroll-target="#paragraph-2-1">Paragraph 2</a></li>
  <li><a href="#paragraph-4" id="toc-paragraph-4" class="nav-link" data-scroll-target="#paragraph-4">Paragraph 4</a></li>
  <li><a href="#paragraph-11" id="toc-paragraph-11" class="nav-link" data-scroll-target="#paragraph-11">Paragraph 11</a></li>
  </ul></li>
  <li><a href="#chapter-3" id="toc-chapter-3" class="nav-link" data-scroll-target="#chapter-3">Chapter 3</a>
  <ul class="collapse">
  <li><a href="#imprecise-probabilities" id="toc-imprecise-probabilities" class="nav-link" data-scroll-target="#imprecise-probabilities">Imprecise Probabilities</a></li>
  <li><a href="#logical-omniscience" id="toc-logical-omniscience" class="nav-link" data-scroll-target="#logical-omniscience">Logical Omniscience</a></li>
  <li><a href="#comparisons-and-degrees" id="toc-comparisons-and-degrees" class="nav-link" data-scroll-target="#comparisons-and-degrees">Comparisons and Degrees</a></li>
  <li><a href="#non-numerical-arithmetic" id="toc-non-numerical-arithmetic" class="nav-link" data-scroll-target="#non-numerical-arithmetic">Non-Numerical Arithmetic</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p>&nbsp;</p>
</div></div>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">




<p>I’m thinking of chapter 1 and 2 as making up one part, and chapter 3 the other part. In chapters 1 and 2 it seemed best to concentrate on almost line-by-line reading, to get the precise view he’s setting forwward. So I’ll work through each of the numbered sections, which I guess I’ll call paragraphs for want of a better name, highlighting quotes that seemed particularly important. In chapter 3 I’ll primarily focus on bigger themes, first on why Keynes rejects existing arguments for numerical probabilities, then on some issues about his non-numerical probabilties.</p>
<section id="chapter-1" class="level1 page-columns page-full">
<h1>Chapter 1</h1>
<section id="paragraph-1" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="paragraph-1">Paragraph 1</h2>
<blockquote class="blockquote">
<p>Part of our knowledge we obtain direct; and part by argument. The Theory of Probability is concerned with that part which we obtain by argument, and it treats of the different degrees in which the results so obtained are conclusive or inconclusive.</p>
</blockquote>
<p>Lots going on here. First, what exactly is ‘direct’?</p>
<p>I assume it includes observation, which as an early analytic Keynes means apprehension of sense-data. I mostly think that this is a detachable part of the theory, and if we replace it with a more plausible theory of perception everything goes through, but that might be questioned.</p>
<p>Second, why does probability go with all of argument? Does it include logic and math? Yes! Keynes thinks that deductive validity is a special case of probability. We’re going to come back to this point, <em>a lot</em>, because it is central to how Keynes understands probability.</p>
<p>But it’s a tricky point, because just what Keynes means by logic might not be exactly the same thing as we mean.</p>
<blockquote class="blockquote">
<p>But many other arguments are rational and claim some weight without pretending to be certain. In Metaphysics, in Science, and in Conduct, most of the arguments, upon which we habitually base our rational beliefs, are admitted to be inconclusive in a greater or less degree.</p>
</blockquote>
<p>Two things to note here.</p>
<p>First, probability is about arguments. We’ll get much more on this to follow, but probability isn’t about propositions for Keynes. Just what the relationship between sentential probability and argument probability turns out to be is complicated, but arguments are central.</p>
<p>Second, what a striking view about Metaphysics and Conduct, i.e., ethics. We all presumably agree that probability is central to science. That it’s central to metaphysics and ethics is interesting.</p>
<div class="page-columns page-full"><p>To be sure, by “Metaphysics” here Keynes maybe means everything we’d include in LEMMing philosophy (Language, Epistemology, Mind, Metaphysics).<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> And maybe it isn’t too surprising that mind, at least, is probabilistic. Also there has been a surge in interest in moral uncertainty recently. Keynes was, again, there first.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Launching that acronym at the world is possibly my most significant philosophical legacy.</p></li></div></div>
</section>
<section id="paragraph-2" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="paragraph-2">Paragraph 2</h2>
<blockquote class="blockquote">
<p>The terms <em>certain</em> and <em>probable</em> describe the various degrees of rational belief about a proposition which different amounts of knowledge authorise us to entertain.</p>
</blockquote>
<div class="page-columns page-full"><p>So here we get the first clear statement of the connection between probability, as Keynes will understand it, and rational belief. This isn’t a trivial claim. Among other things, he is here rejecting frequentism, as espoused by (e.g.,) his colleague Edgeworth.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;See his essay on Edgeworth in <em>Essays in Biography</em> for some of this disagreement, and Edgeworth’s paper “Philosophy of Chance” (<em>Mind</em> 1922) for Edgeworth’s side of this dispute, as well as the discussions of frequentism later in the <em>Treatise</em>.</p></li></div></div>
<div class="page-columns page-full"><p>The quote there makes this seem doubly modalised; it’s degrees of <em>rational</em> belief that knowledge <em>authorises</em> us to entertain. I think that’s just for emphasis. But one thing we’ll come back to is this word <em>authorise</em>. Keynes doesn’t say <em>compel</em> here. Jim Joyce’s version of what’s otherwise a similar view goes closer to compel.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn3"><p><sup>3</sup>&nbsp;See, e.g., “A defense of imprecise credences in inference and decision making” (<em>Philosophical Perspectives</em>, 2010) for Joyce’s version of the view.</p></li></div></div>
<blockquote class="blockquote">
<p>while it is often convenient to speak of propositions as certain or probable, this expresses strictly a relationship in which they stand to a <em>corpus</em> of knowledge, actual or hypothetical, and not a characteristic of the propositions in themselves.</p>
</blockquote>
<p>Again, sentences (or propositions) are not probable. It’s interesting that he says, and italicises, <em>corpus</em> here. We’ll come back to this below.</p>
<blockquote class="blockquote">
<p>When once the facts are given which determine our knowledge, what is probable or improbable in these circumstances has been fixed objectively, and is independent of our opinion.</p>
</blockquote>
<p>Real probability, the property of arguments, is not subjective. Something might be probable for you, and not for me, but only because you know more than me. The evidence-to-probability connection is objective and impersonal.</p>
<div class="page-columns page-full"><p>I had written out something about how the use of <em>knowledge</em> here suggests Keynes is a proto-Williamsonian, believing a version of E=K<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>. But it’s clear in a couple of paragraphs that it is ‘direct knowledge’ that is the input, and this quote is sloppy; he should have said “determine our <em>direct</em> knowledge”.</p><div class="no-row-height column-margin column-container"><li id="fn4"><p><sup>4</sup>&nbsp;People usually cite Williamson’s 2000 book <em>Knowledge and Its Limits</em> for the statement of this, but in this context the most relevant citation is the earlier paper “Conditionalizing on knowledge” (<em>British Journal for the Philosophy of Science</em>, 1998)</p></li></div></div>
<blockquote class="blockquote">
<p>The Theory of Probability is logical, therefore, because it is concerned with the degree of belief which it is <em>rational</em> to entertain in given conditions, and not merely with the actual beliefs of particular individuals, which may or may not be rational.</p>
</blockquote>
<p>To modern eyes, this looks like a confusion. I think Keynes is assuming a <em>lot</em> of things here, and I’m not sure anyone circa 2023 would buy all of them.</p>
<ol type="1">
<li>Probability is about rational (degree of) belief.</li>
<li>What’s rational is an objective matter, and just dependent on the evidence one has.</li>
<li>The evidence, in this sense, is all and only what one knows.</li>
<li>Something that is objective in this sense is modally invariant.</li>
<li>Something that is modally invariant is part of logic.</li>
</ol>
<div class="page-columns page-full"><p>It’s tempting to say that 5 is a mistake because it overlooks Kripkean points about the distinctness of the necessary/contingent distinction and the a priori/a posteriori distinction.<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> But I don’t think that’s quite it. I think even once you make that distinction, Keynes would be on reasonably solid ground saying probability statements are both necessary and a priori.</p><div class="no-row-height column-margin column-container"><li id="fn5"><p><sup>5</sup>&nbsp;The literature on Kripke is infinite and growing, but it’s best to start with Kripke’s book <em>Naming and Necessity</em>, published in 1980 but a reprint of something published as a long paper in 1972.</p></li></div></div>
<div class="page-columns page-full"><p>What’s really striking about 5 is that it overlooks, or dismisses, the Kantian view that statements like these are synthetic a priori.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> Or, though I think this is a less likely interpretation, it thinks that logical knowledge might be synthetic. The only mention of the word ‘synthetic’ comes in chapter 22.</p><div class="no-row-height column-margin column-container"><li id="fn6"><p><sup>6</sup>&nbsp;Also an infinite literature, but section 2 of the Stanford Encyclopedia article on Kant’s Theory of Judgment is a decent start.</p></li></div></div>
<div class="page-columns page-full"><p>It helps to think about something that Keynes mentions in the Preface here. There are two big philosophical influences on the <em>Treatise</em>. One of them, which we discussed last week, is Moore. And the other is Russell, and especially the Russell of <em>Principia</em>.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> (Keynes only occasionally seems to remember that <em>Principia</em> was co-authored.) So Keynes is a logicist about mathematics. Does that affect why he doesn’t consider the synthetic a priori option? Why doesn’t Moore’s influence affect him here? (Actually, what Moore thought about analyticity is a bit of a mess that we don’t want to get into.)</p><div class="no-row-height column-margin column-container"><li id="fn7"><p><sup>7</sup>&nbsp;I.e., <em>Principia Mathematica</em>, by Bertrand Russell and Alfred North Whitehead, published in three volumes between 1910 and 1913. One key claim of the book was that mathematical truths, properly understood, are logical truths.</p></li></div></div>
<p>Anyway, when Keynes says that probability is logical, he’s making a leap, and probably not one he’s entitled to, and probably one that gets him into trouble. But it’s related to why he thinks that deductive validity is really a special case of probability. We’ll come back to what kind of mess this is.</p>
<div class="page-columns page-full"><p>Two things about <em>logic</em> that I think will cause us some concern as we move along. Logic is <em>formal</em>; that is, it is to do with <em>forms</em> of sentences. Is probability formal in the same sense? Relatedly, logic is language-invariant. Change the language so that the basic terms are grue<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> and bleen rather than green and blue, and none of the validities change. Is probability language-invariant in the same sense? If the answer to either question is no, how <em>logical</em> is the theory of probability.</p><div class="no-row-height column-margin column-container"><li id="fn8"><p><sup>8</sup>&nbsp;On grue, see Nelson Goodman’s 1953 book <em>Fact, Fiction and Forecast.</em></p></li></div></div>
</section>
<section id="paragraph-3" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="paragraph-3">Paragraph 3</h2>
<blockquote class="blockquote">
<p>Let our premisses consist of any set of propositions <em>h</em>, and our conclusion consist of any set of propositions <em>a</em>, then, if a knowledge of <em>h</em> justifies a rational belief in <em>a</em> of degree <span class="math inline">\(\alpha\)</span>, we say that there is a probability-relation of degree <span class="math inline">\(\alpha\)</span> between <em>a</em> and <em>h</em>. (Footnote: This will be written a/h = <span class="math inline">\(\alpha\)</span>.)</p>
</blockquote>
<div class="page-columns page-full"><p>Some of this sounds like familiar view. Probability is fundamentally conditional, like in Popper<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>, Hájek<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>, and others. It’s about rational belief, though here looking less Permissive than in earlier paragraphs, which is also familiar.</p><div class="no-row-height column-margin column-container"><li id="fn9"><p><sup>9</sup>&nbsp;See his <em>Logic of Scientific Discovery,</em> first published in 1933 but I believe not translated into English until 1959. The appendices are particularly important for this point.</p></li><li id="fn10"><p><sup>10</sup>&nbsp;“What Conditional Probability Could Not Be” (<em>Synthese</em> 2003)</p></li></div></div>
<p>But there are three distinct things here.</p>
<p>One is that the right-hand side is <strong>set-valued</strong>. I don’t think that ends up making a huge difference; I think in every case you could use the conjunction of the members instead. But it’s distinctive.</p>
<div class="page-columns page-full"><p>A second is that <em>a</em> is a set as well. This is very strange. I think in practice we mostly get examples where <em>a</em> is a singleton set. But if not, should we think of this set as standing for something more like the conjunction of the members, or the disjunction? Is this like multiple-conclusion logic?<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> Did multiple-conclusion logic even <em>exist</em> at that time? I really don’t know what is happening there.</p><div class="no-row-height column-margin column-container"><li id="fn11"><p><sup>11</sup>&nbsp;For a good (if difficult) introduction, see Greg Restall’s paper “Multiple Conclusions”. It’s in an obscure edited volume, but the version on his website is good enough.</p></li></div></div>
<p>The third is <span class="math inline">\(\alpha\)</span>. We will have much more to say about that presently.</p>
</section>
<section id="paragraph-5" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="paragraph-5">Paragraph 5</h2>
<blockquote class="blockquote">
<p>These general ideas are not likely to provoke much criticism.</p>
</blockquote>
<p>Narrator voice. They did, in fact, etc.</p>
<blockquote class="blockquote">
<p>When we argue that Darwin gives valid grounds for our accepting his theory of natural selection, we do not simply mean that we are psychologically inclined to agree with him; it is certain that we also intend to convey our belief that we are acting rationally in regarding his theory as probable. We believe that there is some real objective relation between Darwin’s evidence and his conclusions, which is independent of the mere fact of our belief, and which is just as real and objective, though of a different degree, as that which would exist if the argument were as demonstrative as a syllogism. We are claiming, in fact, to cognise correctly a logical connection between one set of propositions which we call our evidence and which we suppose ourselves to know, and another set which we call our conclusions, and to which we attach more or less weight according to the grounds supplied by the first.</p>
</blockquote>
<div class="page-columns page-full"><p>Two things about this passage. First, once again it is really hard to see where the <em>logical</em> comes from here, unless we’re just assuming away the possibility of a Kantian approach. Second, this sounds a lot like what Keynes says in his <em>extremely</em> brief remarks he makes memorialising Ramsey.<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a> I do think there’s textual evidence here that while Keynes thought Ramsey gives him a lot to think about and reply to, he does not think that Ramsey fatally undermines the whole theory.</p><div class="no-row-height column-margin column-container"><li id="fn12"><p><sup>12</sup>&nbsp;The note on Ramsey is reprinted in <em>Essays in Biography.</em></p></li></div></div>
</section>
<section id="paragraph-7" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="paragraph-7">Paragraph 7</h2>
<blockquote class="blockquote">
<p>Thus, when in ordinary speech we name some opinion as probable without further qualification, the phrase is generally elliptical.</p>
</blockquote>
<div class="page-columns page-full"><p>Keynes is here taking a stance on what was one of the most contested philosophical questions of the first decade of this century: how do apparently context-sensitive terms work? If you’re interested in placing his view, it is a form of the rule-governed contextualism that Jason Stanley<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a> was the most prominent proponent of (though which I gather Jason has now abandoned). If we have a spare 10 hours or so I can rehash the debates of that decade, but probably (given <em>my</em> evidence) there are better things to do with our time.</p><div class="no-row-height column-margin column-container"><li id="fn13"><p><sup>13</sup>&nbsp;The paper usually most cited paper on this is his “Context and Logical Form” (<em>Linguistics and Philosophy</em> 2000), though it should be read alongside the co-authored paper with Zoltan Szabó “On Quantifier Domain Restriction” (<em>Mind and Language</em> 2000).</p></li></div></div>
<blockquote class="blockquote">
<p>It would be as absurd to deny that an opinion was probable, when at a later stage certain objections have come to light, as to deny, when we have reached our destination, that it was ever three miles distant…</p>
</blockquote>
<div class="page-columns page-full"><p>OK, I can’t help one small note here. Keynes is here making the important point that even when new information comes to light, we don’t <em>retract</em> our previous probability claims.<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a> Those claims have been superseded, but we don’t treat them as being wrong. The statement was indeed probable. I think this sounds right. And, if we were doing a 2000s class, this would be perhaps the most important of the four most important things to check about a bit of context-sensitive language.<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn14"><p><sup>14</sup>&nbsp;The relativist view that John MacFarlane defends in his 2014 book “Assessment Sensitivity: Relative Truth and its Applications” makes heavy use of data about retraction. That book was based on papers and manuscripts that had circulated for a decade by the time the book came out; so the 2014 date is a little misleading. Also I’m contractually obliged to note that MacFarlane is responsible for a key part of the best open source academic writing software available, and it’s the engine behind the software I’m using to write these notes.</p></li><li id="fn15"><p><sup>15</sup>&nbsp;The others are disagreements involving the term, speech reports involving the term, and bound uses of the term.</p></li></div></div>
</section>
<section id="paragraph-8" class="level2">
<h2 class="anchored" data-anchor-id="paragraph-8">Paragraph 8</h2>
<blockquote class="blockquote">
<p>We cannot analyse the probability-relation in terms of simpler ideas.</p>
</blockquote>
<p>Keynes is, indeed, a Moorean.</p>
</section>
</section>
<section id="chapter-2" class="level1 page-columns page-full">
<h1>Chapter 2</h1>
<section id="paragraph-2-1" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="paragraph-2-1">Paragraph 2</h2>
<blockquote class="blockquote">
<p>On the other hand, a man may rationally believe a proposition to be <em>probable</em>, when it is in fact false.</p>
</blockquote>
<div class="page-columns page-full"><p>Small point: Keynes uses the normal English term ‘rational’ here, not the unnatural term ‘justified’. I don’t think ordinary English really has a notion of justified belief.<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn16"><p><sup>16</sup>&nbsp;It would be way too big a digression to get into here, but I think the arguments that justified beliefs must be true that Clayton Littlejohn makes in his 2012 book <em>Justification and the Truth Connection</em> turn on the oddness of thinking about beliefs as justified. If Gettier had paraphrased the views of Ayer and Chisholm as the “Rational True Belief” model of knowledge (in his “Is Justified True Belief Knowledge?” (<em>Analysis</em> 1963)), the last 60 years of epistemology may have looked very different.</p></li></div></div>
<p>Bigger point: He doesn’t <em>quite</em> say this, but Keynes kind of implicates factualism about rational full belief. That is, he suggests that one <em>cannot</em> have rational full belief in a false proposition.</p>
<blockquote class="blockquote">
<p>The highest degree of rational belief, which is termed <em>certain</em> rational belief, corresponds to <em>knowledge</em>. We may be said to know a thing when we have a certain rational belief in it, and <em>vice versa</em>.</p>
</blockquote>
<p>On the face of it, this is not a good account of knowledge, and feels like scepticism.</p>
</section>
<section id="paragraph-4" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="paragraph-4">Paragraph 4</h2>
<blockquote class="blockquote">
<p>Thus knowledge of a proposition always corresponds to certainty of rational belief in it and at the same time to actual truth in the proposition itself.</p>
</blockquote>
<p>This is worth reading carefully. At first it looks like Keynes is giving something like a JTB theory of knowledge, and there are Gettier counterexamples and we can treat this as an historical vestige.</p>
<p>But look more closely. I don’t think he’s saying that these are conjuncts. I don’t quite know what <em>corresponds</em> to means here, surely knowledge doesn’t <em>equal</em> truth. But it looks like he is saying that here are two things knowledge implies.</p>
<div class="page-columns page-full"><p>Remember, there are Gettier cases (obviously not under that name) in <em>Problems of Philosophy</em>,<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a> which Keynes must have read. He knows that there are problems of defining knowledge this way.</p><div class="no-row-height column-margin column-container"><li id="fn17"><p><sup>17</sup>&nbsp;Bertrand Russell’s 1912 book advertising his new approach to philosophy to a more popular audience; Russell says a lot of things in that book, and many of them are very odd, but the standard view nowadays is on the whole closer to Russell’s views than the views of people he was attacking.</p></li></div></div>
<div class="page-columns page-full"><p>It looks to me like he’s adopting (without much, you know, argument) a kind of infallibilist theory of knowledge that we find in the present day in Williamson and his followers, and in earlier times in some Indian traditions. (Jennifer Nagel has written on the connection b/w these two schools.<a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a>)</p><div class="no-row-height column-margin column-container"><li id="fn18"><p><sup>18</sup>&nbsp;See her “Classical Indian Scepticism: Reforming or Rejecting Philosophy” (<em>Comparative Philosophy</em> 2019) as a starting point, and note the reference to Nilanjan Das’s Stanford Encyclopedia entry on Śrīharṣa.</p></li></div></div>
<blockquote class="blockquote">
<p>Thus rational belief of whatever degree can only arise out of knowledge, although the knowledge may be of a proposition secondary, in the above sense, to the proposition in which the rational degree of belief is entertained.</p>
</blockquote>
<p>At first I thought this was a slip, but Keynes really believes it. Rational belief requires knowledge of probability. I think that having evidence <em>h</em>, and the probability of <em>a</em> given <em>h</em> is <em>x</em>, is enough to warrant degree of belief <em>x</em> in <em>a</em>. Keynes thinks that I need something else, namely knowledge of the probability. By paragraph 7 Keynes indicates that this isn’t always explicit, so he is acknowledging the unintuitive nature of the view. But he clearly states the stronger view on several occasions as the chapter proceeds.</p>
<div class="page-columns page-full"><p>It’s perhaps interesting to talk about the comparison with some stuff Knight<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a> says around the same time about the sufficiency of acting as if one knew all these theoretical claims.</p><div class="no-row-height column-margin column-container"><li id="fn19"><p><sup>19</sup>&nbsp;In his book, also published in 1921, <em>Risk, Uncertainty, and Profit</em>.</p></li></div></div>
</section>
<section id="paragraph-11" class="level2">
<h2 class="anchored" data-anchor-id="paragraph-11">Paragraph 11</h2>
<p>I can’t tell if the concluding footnote is good advice, or self-indulgent back-patting.</p>
</section>
</section>
<section id="chapter-3" class="level1 page-columns page-full">
<h1>Chapter 3</h1>
<p>I’m not going to do the line by line notes here; I don’t think they work as well for this chapter. That’s because the big thing is getting clear on why he thinks probabilities can be non-numerical. We start with some responses to reasons for thinking it is numerical.</p>
<ul>
<li>Some people think this is obvious without argument; Keynes mentions this view and doesn’t even bother to give a reply.</li>
<li>Some people (e.g., Donkin) think that the contrary view comes from confusing the epistemology of probability, i.e., what we can know about it, with its metaphysics. In some ways this feels like the most contemporary of the views Keynes discusses, and we’ll come back to it.</li>
<li>De Morgan seemed to think that ordinal comparisons implied quantitative comparisons. Keynes says that no one who is a mathematician would believe that. Is he alluding to Cantor’s work here? I’m not sure.</li>
<li>Some people generalise from their familiarity with the “Calculus of Probability”. Keynes argues, well at least says, that this is just confusing a special case for a general case.</li>
<li>Some people move from frequentism to numerical probabilities. But frequentism is wrong, and will be objected to at some considerable length in later chapters.</li>
<li>Some people think that the fact that probabilities get used in practical decision making, including decisions on numerical things like insurance contracts, means that they must be numerical.</li>
</ul>
<p>Keynes spends a lot of time, paragraphs 6 and 7, on this point. The cases he goes through, the <em>Waratah</em> and the beauty contest, are I think interesting, though I don’t think I need to say much about the details of them here. I do have four notes, some of them autobiographical, on these points.</p>
<ol type="1">
<li>I remember the time that I was personally convinced that there was no simple correlation between betting behavior and degrees of belief. I was in the betting ring at a forgettable horse race meeting<a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a>, and it was clear that the bookmakers knew as little about the horses running as I did. What they did know was what everyone else had as the listed prices for the horses. And when one of them changed prices (i.e., odds being offered), the others would follow suit. And while you could try to argue that they were gaining quasi-testimonial evidence, it just seemed really clear that they were not keeping careful credences in their heads and updating them on the evidence, and offering bets with positive-EV given those credences. They were just keeping the bets balanced and making some money.<a href="#fn21" class="footnote-ref" id="fnref21" role="doc-noteref"><sup>21</sup></a> I gather that the fancier online bookmakers these days do behave a bit more like the models from decision theory books, and try to maximise EV rather than produce safe profits. But I was convinced that most people most of the time are doing something else. And that’s part of the point Keynes is making here. The example of the <em>Waratah</em> insurance prices bouncing around should probably have been enough to give me the ah-ha moment I had at that racetrack.</li>
<li>I can’t remember if I had this part of the <em>Treatise</em> in mind when I christened my favorite rule for decision making with imprecise credences Caprice.<a href="#fn22" class="footnote-ref" id="fnref22" role="doc-noteref"><sup>22</sup></a> Either way, I probably should have cited these paragraphs.</li>
<li>For all of the detail we get here, there is one simple point that Keynes makes early on which seems completely decisive. The fact that trades are made shows at most that probabilities are bounded by numerical values, not that they are numerical values.</li>
<li>The similarity of these passages to chapter 12 of the <em>General Theory</em>, and to the 1937 QJE article<a href="#fn23" class="footnote-ref" id="fnref23" role="doc-noteref"><sup>23</sup></a>, will become important in a few weeks.</li>
</ol>
<div class="no-row-height column-margin column-container"><li id="fn20"><p><sup>20</sup>&nbsp;Back when they had harness racing at Moonee Valley.</p></li><li id="fn21"><p><sup>21</sup>&nbsp;More effectively, I might add, than I was.</p></li><li id="fn22"><p><sup>22</sup>&nbsp;See my “Decision Making with Imprecise Probabilities”, never published but cited a few times, and online at <a href="http://brian.weatherson.org/vdt.pdf" class="uri">http://brian.weatherson.org/vdt.pdf</a>.</p></li><li id="fn23"><p><sup>23</sup>&nbsp;Confusingly called “The General Theory of Employment”.</p></li></div><section id="imprecise-probabilities" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="imprecise-probabilities">Imprecise Probabilities</h2>
<p>It’s time to bring onto the table a model for Keynesian probabilities that some of you are probably familiar with. I assume everyone is familiar with the standard Bayesian model - every rational agent has in their head some particular real-valued probability function, and they update it by conditionalisation on new evidence, and their confidence in <em>p</em> is the probability of <em>p</em> on this function. So far, so good.</p>
<p>The imprecise probabilities model is that everyone has a set of probability functions in their head. The true probability claims that a person can make are all and only those where the set agrees. So if Pr(<em>p</em>) &gt; Pr(<em>q</em>) for every Pr in the set, they can say <em>p</em> is more probable than <em>q</em>. If Pr(<em>p</em>) &gt; 0.8 for every Pr in the set, they can say <em>p</em> is at least 80% probable. If Pr(<em>p</em>) = <em>x</em> for every Pr in the set, they can say the probability of <em>p</em> is <em>x</em>, and so on.</p>
<div class="page-columns page-full"><p>One <strong>very big question</strong> is how good a model this is of Keynes’s theory. One of my earliest papers<a href="#fn24" class="footnote-ref" id="fnref24" role="doc-noteref"><sup>24</sup></a> was an argument that it’s a very good model, though in retrospect I fear I overstated the case a little.</p><div class="no-row-height column-margin column-container"><li id="fn24"><p><sup>24</sup>&nbsp;“Keynes, Uncertainty, and Interest Rates” (<em>Cambridge Journal of Economics</em> 2002).</p></li></div></div>
<p>Another question is whether it’s a good model full stop, and I guess that will be somewhere between the back and front of our minds the rest of the way.</p>
<div class="page-columns page-full"><p>Anyway, one of the objections to this model is that it allows <em>dilation</em>.<a href="#fn25" class="footnote-ref" id="fnref25" role="doc-noteref"><sup>25</sup></a> It’s possible that before getting some evidence, all the Pr agree on the probability of <em>p</em>, but after getting new evidence, the possible values of Pr(<em>p</em>) are all over the shop. For reasons I’ve never understood, a lot of philosophers think this is a very bad feature of the model.</p><div class="no-row-height column-margin column-container"><li id="fn25"><p><sup>25</sup>&nbsp;See section 3.1 of the Stanford Encyclopedia article on Imprecise Probabilities for more than you might want to know about dilation. I’m hardly a neutral party here, but I think what Keynes says about Gibbon basically settles the debate.</p></li></div></div>
<div class="page-columns page-full"><p>Anyway, here’s Keynes from the end of paragraph 7 of chapter 3.<a href="#fn26" class="footnote-ref" id="fnref26" role="doc-noteref"><sup>26</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn26"><p><sup>26</sup>&nbsp;Also the footnote demolition of the law of succession at the start of the paragraph is great, and maybe relevant to some contemporary projects.</p></li></div></div>
<blockquote class="blockquote">
<p>In some cases, moreover, where general statistics are available, the numerical probability which might be derived from them is inapplicable because of the presence of additional knowledge with regard to the particular case. Gibbon calculated his prospects of life from the volumes of vital statistics and the calculations of actuaries. But if a doctor had been called to his assistance the nice precision of these calculations would have become useless; Gibbon’s prospects would have been better or worse than before, but he would no longer have been able to calculate to within a day or week the period for which he then possessed an even chance of survival.</p>
</blockquote>
<div class="page-columns page-full"><p>I’d forgotten that passage when I wrote a similar (though less good!) example arguing that dilation is in fact what you want to have happen in some cases.<a href="#fn27" class="footnote-ref" id="fnref27" role="doc-noteref"><sup>27</sup></a> The Gibbon case is a great example and more philosophers should read Keynes.</p><div class="no-row-height column-margin column-container"><li id="fn27"><p><sup>27</sup>&nbsp;In my example we know that our neighbour has gambled a large amount of money on a game of chance with odds that we know, then we hear a cry that could be either jubilation or despair coming from their apartment. The example is in “Should We Respond to Evil with Indifference” (<em>Philosophy and Phenomenological Research</em> 2004).</p></li></div></div>
<p>One reason for being a little careful with understanding Keynes in terms of this model is that for Keynes comparative probabilities are more fundamental than anything like sets of values. This is clear in, for instance, paragraph 14. I don’t regard this as a big problem because on my version of the sets of probability functions approach, comparative probabilities are also more fundamental. What makes a probability function a member of <em>the set</em> is that it conforms to all of the comparative judgments a person makes. So this isn’t a deal-breaker in terms of how we model Keynes, but it’s a reason to be careful.</p>
</section>
<section id="logical-omniscience" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="logical-omniscience">Logical Omniscience</h2>
<p>This passage from paragraph 12 seems ominous.</p>
<blockquote class="blockquote">
<p>Probability is, <em>vide</em> Chapter II. (§ 12), relative in a sense to the principles of <em>human reason</em>. The degree of probability, which it is rational for us to entertain, does not presume perfect logical insight, and is relative in part to the secondary propositions which we in fact know; and it is not dependent upon whether more perfect logical insight is or is not conceivable.</p>
</blockquote>
<p>I do not understand how Keynes is going to make this stick. His probabilities are extensions of the standard numerical notion. That’s to say, all logical truths have probability 1. I suspect he’s going to have to backtrack on this when the formal model gets rolled out.</p>
<div class="page-columns page-full"><p>This also undermines the idea that probability is continuous with logic. Whether <em>p</em> entails <em>q</em> does not depend on whether anyone can figure it out. There are logical truths that are determinable in theory, but far beyond anyone’s ability to figure out.<a href="#fn28" class="footnote-ref" id="fnref28" role="doc-noteref"><sup>28</sup></a></p><div class="no-row-height column-margin column-container"><li id="fn28"><p><sup>28</sup>&nbsp;I don’t mean here to get into metaphysical waters about incompleteness. There are logical truths about Traveling Salesman problems that are decidable in theory, but not in practice with all the computers in the world.</p></li></div></div>
</section>
<section id="comparisons-and-degrees" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="comparisons-and-degrees">Comparisons and Degrees</h2>
<p>I think the things Keynes says in paragraph 16 are just common sense (even if I don’t actually know what morocco and calf binding are). But I should flag that they are <em>not</em> the standard view, at least of linguists, in contemporary theory.</p>
<p>There is a long running dispute about what we might call the metaphysics of gradable adjectives. As is well-known, a lot of gradable adjectives come in three types:</p>
<ul>
<li><strong>Positive</strong>: e.g., she is tall; he is smelly.</li>
<li><strong>Comparative</strong>: e.g., she is taller than she was; he is smellier than he was.</li>
<li><strong>Degree</strong>: e.g., she is 175cm tall.</li>
</ul>
<p>I’ve left off the smelly one at the end, because we don’t have (in natural language) a scale for it. Anyway, the metaphysical question I have in mind is (in contemporary lingo), which of these classes of facts grounds the others?</p>
<div class="page-columns page-full"><p>I think the grounding goes from earlier to later: positive facts ground comparatives, and comparative facts ground degrees. And this was not an uncommon view in the 20th century.<a href="#fn29" class="footnote-ref" id="fnref29" role="doc-noteref"><sup>29</sup></a> But Chris Kennedy convinced a lot of people that the order of (metaphysical) explanation went in the other direction: if she is taller than him, that is <em>because</em> she has some height and he has a height of a lower degree<a href="#fn30" class="footnote-ref" id="fnref30" role="doc-noteref"><sup>30</sup></a>. And he means this to apply even when we don’t have terms in the language for them. If he is smellier than her, that’s because he has some degree of smelliness, and she has a lesser degree.</p><div class="no-row-height column-margin column-container"><li id="fn29"><p><sup>29</sup>&nbsp;For an excellent statement of this view, see Ewan Klein’s “A Semantics for Positive and Comparative Adjectives” (<em>Linguistics and Philosophy</em> 1980). I still think this is basically correct, but this is a very lonely view nowadays.</p></li><li id="fn30"><p><sup>30</sup>&nbsp;See his “Polar Opposition and the Ontology of Degrees” (<em>Linguistics and Philosophy</em> 2001), and “Vagueness and grammar: The semantics of relative and absolute gradable adjectives” (<em>Linguistics and Philosophy</em> 2007).</p></li></div></div>
<p>It is important to note that the Kennedy picture is not inconsistent with the broader Keynesian outlook. The degrees that he posits might only form a pre-order, not a total pre-order. But his view is, I think, inconsistent with the (sensible! correct!) view Keynes takes in paragraph 16, which is to make comparative probabilities the metaphysically central notion.</p>
</section>
<section id="non-numerical-arithmetic" class="level2">
<h2 class="anchored" data-anchor-id="non-numerical-arithmetic">Non-Numerical Arithmetic</h2>
<p>Keynes promises in paragraph 17 that he’ll get to how probabilities can be added, multiplied etc if they aren’t the things that normally get added, multiplied etc, i.e., numbers. Ramsey is going to make a <em>big deal</em> out of this point, complaining that we don’t have a good sense of what non-numerical multiplication is.</p>
<p>This is one important advantage of the sets of probability functions approach. It’s (relatively) easy to understand arithmetic operations on sets of probability functions; you just perform the operation on each member of the set. So the (set-valued) values of Pr(<em>p</em>) and Pr(<em>q</em>) naturally yield a set value for Pr(<em>p</em>) times Pr(<em>q</em>). Whether Keynes is entitled to such an understanding of multiplication (and division, etc) is going to be an important thing to come back to as we keep reading.</p>


</section>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>